<h1>All Tweets</h1>

<div>
<button onclick="window.location.href='/logout'"> Logout </button>
</div>

<% @tweets.each do |tweet| %>
  <h5>Author: <a href="profile/<%= tweet.user.id%>"><%= tweet.user.name %></a></h5>
  <p>"<%= tweet.body %>"</p>
  <% like = current_user.likes.find_by(tweet: tweet)%>
<% if current_user.likes.find_by(tweet: tweet).nil?%>
<%= button_to "Like", likes_path, params: {like: {tweet_id: tweet.id}}, method: :tweet %>
<% else %> 
<%= button_to "Unlike", likes_path, params: {like: {tweet_id: tweet.id}}, method: :delete %>
<% end %>
    <% if tweet.user_id == current_user.id %>

    <%= link_to "Delete tweet", tweet_path(tweet), data: {turbo_method: :delete} %>
    <div>
    <%= link_to "Edit tweet", edit_tweet_path(tweet) %>
    </div>
    <% end %>
<% end %>

<div>
<%= link_to "New tweet", new_tweet_path %>
</div>

<div>
<%= button_to "Followed Users Tweets", posts_path,  method: :get %>
</div>
